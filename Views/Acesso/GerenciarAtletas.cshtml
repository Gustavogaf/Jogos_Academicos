@model IEnumerable<Jogos_Academicos.Models.Usuario>

@{
    ViewData["Title"] = "Gerenciar Atletas";
}
<link rel="stylesheet" href="~/css/gerenciar-atletas.css" />


<div class="container-atletas">
    <div class="atletas-header">
        <h2>Promoção de Usuários</h2>
    </div>

    <div class="atletas-info">
        <p>
            Aqui estão listados todos os usuários com perfil de <strong>Atleta</strong>.
            Para promover alguém a <strong>Técnico</strong>, use o botão correspondente.
        </p>
        <small>
            Árbitros não aparecem nesta lista.
        </small>
    </div>

    @if (TempData["Sucesso"] != null)
    {
        <div class="atletas-alert-success">@TempData["Sucesso"]</div>
    }

    @if (TempData["Erro"] != null)
    {
        <div class="atletas-alert-error">@TempData["Erro"]</div>
    }

    @if (!Model.Any())
    {
        <p class="empty-state">Nenhum atleta encontrado.</p>
    }
    else
    {
        <table class="atletas-table">
            <thead>
                <tr>
                    <th>Atleta</th>
                    <th>Matrícula</th>
                    <th>Curso</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <strong class="atleta-nome">@item.NomeCompleto</strong><br />
                            <span class="atleta-email">@item.Email</span>
                        </td>
                        <td>@item.Matricula</td>
                        <td>@item.Curso?.Nome</td>
                        <td>
                            <form asp-action="PromoverParaTecnico"
                                  method="post"
                                  onsubmit="return confirm('Promover @item.NomeCompleto para Técnico?');">
                                <input type="hidden" name="id" value="@item.Id" />
                                <button type="submit" class="btn-promover">
                                    ⬆ Promover
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <a class="atletas-voltar" asp-controller="Evento" asp-action="Index">
        ← Voltar ao Painel
    </a>
</div>
